<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:expapp="clr-namespace:HurPsyExp"
                    xmlns:expdesign="clr-namespace:HurPsyExp.ExpDesign"
                    xmlns:expstrings="clr-namespace:HurPsyExpStrings;assembly=HurPsyExpStrings"
                    xmlns:psylib="clr-namespace:HurPsyLib;assembly=HurPsyLib">

    <Image x:Key="AddSingleTrialIcon" Source="/Images/addsingletrial.png" x:Shared="False"
           Width="{Binding Source={StaticResource AppSettings}, Path=CommandButtonHeight}"
           Height="{Binding Source={StaticResource AppSettings}, Path=CommandButtonHeight}"
           Stretch="Fill"/>

    <Image x:Key="AddMultipleTrialIcon" Source="/Images/AddMultipleTrial.png" x:Shared="False"
           Width="{Binding Source={StaticResource AppSettings}, Path=CommandButtonHeight}"
           Height="{Binding Source={StaticResource AppSettings}, Path=CommandButtonHeight}"
           Stretch="Fill"/>

    <DataTemplate x:Key="IdSelectTemplate">
        <StackPanel Orientation="Horizontal">
            <CheckBox Content="{Binding TempId}"/>
        </StackPanel>
    </DataTemplate>

    <ScrollViewer x:Key="AddMultipleTrialPopup" x:Shared="False"
                  VerticalScrollBarVisibility="Auto">
        <StackPanel Orientation="Vertical">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <ListBox Name="lbLocatorIds" Grid.Column="0"
                         ItemsSource="{Binding Path=DataContext.LocatorVMs, RelativeSource={RelativeSource AncestorType=Window}}"
                         ItemTemplate="{StaticResource IdSelectTemplate}"/>

                <ListBox Name="lbStimulusIds" Grid.Column="1"
                         ItemsSource="{Binding Path=DataContext.StimulusVMs, RelativeSource={RelativeSource AncestorType=Window}}"
                         ItemTemplate="{StaticResource IdSelectTemplate}"/>
            </Grid>

            <DockPanel LastChildFill="False">
                <Button DockPanel.Dock="Left"
                        Content="{x:Static expstrings:StringResources.Label_OK}"
                        Command="{Binding AddMultipleTrialCommand}"/>

                <Button DockPanel.Dock="Right"
                        Content="{x:Static expstrings:StringResources.Label_Cancel}"
                        Command="{Binding AddMultipleTrialCancelCommand}"/>
            </DockPanel>
        </StackPanel>
    </ScrollViewer>


    <Style x:Key="AddMultipleTrialToggleStyle" TargetType="ToggleButton">
        <Setter Property="Margin" Value="2"/>
        <Setter Property="ToggleButton.Effect">
            <Setter.Value>
                <DropShadowEffect Color="SteelBlue" Direction="225" ShadowDepth="5" BlurRadius="5" Opacity="0.5"/>
            </Setter.Value>
        </Setter>

        <Style.Triggers>
            <Trigger Property="IsChecked" Value="True">
                <Setter Property="Content" Value="{StaticResource AddMultipleTrialPopup}"/>
            </Trigger>
            <Trigger Property="IsChecked" Value="False">
                <Setter Property="Content" Value="{StaticResource AddMultipleTrialIcon}"/>
            </Trigger>
        </Style.Triggers>
    </Style>

</ResourceDictionary>